question 1: List the client id and names of all the orders which have failed?
query:
[{"$match":{"payment_status":"FAILED"}},{"$project":{"name":1,"client_id":1,"_id":0}}]

question 2:Give the total amount generated by each state by orders which were successful?
query:
[{"$match":{"payment_status":{"$ne":"FAILED"}}},{"$group":{"_id":"$address.state_name","totalAmount":{"$sum":"$total_amount"}}}]

question 3: What is the total amount in orders generated by each device platform?
query:
[{"$match":{"payment_status":"PAID"}},{"$group":{"_id":"$device.platform","totalAmountGenerated":{"$sum":"$total_amount"}}}]

question 4:State the amount in each payment status?
query:
[{"$match":{"total_amount":{"$gt":0}}},{"$group":{"_id":"$payment_status","totalAmout":{"$sum":"$gross_amount"}}}]

question 5: Mention all the clients who's payment status is pending with their gross amount and state?
query:
[{"$match":{"payment_status":"PENDING"}},{"$project":{"name":1,"address.state_name":1,"gross_amount":1,"_id":0}}]

question 6: How much is the state wise average amount generated in orders between 4th April,2024 and 11th April,2024?
query:
[{"$match":{"created_at":{"$gt":"2024-04-04","$lt":"2024-04-11"}}},{"$group":{"_id":"$address.state_name","avgAmt":{"$avg":"$total_amount"}}}]

question 7: How many orders have been generated by which referrer between 2nd April,2024 and 11th April,2024?
query:
[{"$match":{"created_at":{"$gt":"2024-04-02","$lt":"2024-04-11"}}},{"$group":{"_id":"$referrer","frequency":{"$sum":1}}}]

question 8:List the total amount generated by all fulfilled campaign sources?
query:
[{"$match":{"status":"FULFILLED","payment_status":"PAID"}},{"$group":{"_id":"$campaign.utm_source","totalAmt":{"$sum":"$gross_amount"}}}]

question 9: What are the total orders generated by the different mediums of campaign from 2nd April,2024 to 4th April,2024?
query:
[{"$match":{"payment_status":"PAID","created_at":{"$gt":"2024-04-02","$lt":"2024-04-04"}}},{"$group":{"_id":"$campaign.utc_medium","totalOrders":{"$sum":1}}}]

question 10: Which clients' orders have failed payment status which are not in currencies outside of india?
query:
[{"$match":{"currency":{"$ne":"INR"},"payment_status":"FAILED"}},{"$project":{"client_id":1,"name":1,"currency":1,"_id":0}}]

question 11: Calculate the average discount and total tax of each client and organize them in the order of discount received?
query:
[{"$match":{"discount":{"$ne":0.0}}},{"$group":{"_id":"$name","AvgDiscount":{"$avg":"$discount"},"totalTax":{"$sum":"$discount"}}},{"$sort":{"AvgDiscount":1}}]

question 12: What is total amount of orders generated by each browser platform?
query:
[{"$unwind":"$device.browser"},{"$match":{"payment_status":"PAID"}},{"$group":{"_id":"$device.browser","totalAmt":{"$sum":"$total_amount"}}},{"$sort":{"totalAmt":1}}]

question 13: What is the average amount payable for each coupon?
query:
[{"$group":{"_id":"$coupon_id","avgAmt":{"$avg":"$gross_amount"}}},{"$sort":{"avgAmt":1}}]

question 14: What is the average tax and total tax of each country?
query:
[{"$group":{"_id":{"countrycode":"$address.country_code","countryname":"$address.country_name"},"AvgTax":{"$avg":"$tax"},"TotalTax":{"$sum":"$tax"}}},{"$project":{"address.country_name":1,"AvgTax":1,"TotalTax":1,"_id":1}},{"$sort":{"AvgTax":-1,"TotalTax":-1}}]

question 15: How many clients are there who's payment has not been initiated?
query:
[{"$match":{"payment_status":"NOT_INITIATED"}},{"$group":{"_id":"$name","RemainingAmt":{"$sum":"$gross_amount"}}},{"$sort":{"RemainingAmt":-1}}]

question 16: Identify the popularity of each payment provider?
query:
[{"$group":{"_id":"$payment_info.provider","orders":{"$sum":1}}},{"$sort":{"orders":-1}}]

question 17:Which type of devices have been most used for orders?
query:
[{"$group":{"_id":"$device.type","orders":{"$sum":1}}},{"$sort":{"orders":-1}}]

question 18: How many orders have been made through each referrer between 1st April,2024 and 10th April,2024?
query:
[{"$match":{"created_at":{"$gte":"2024-04-01","$lte":"2024-04-10"}}},{"$group":{"_id":"$referrer","totalOrders":{"$sum":1}}},{"$sort":{"totalOrders":-1}}]

question 19:What are the number of guests and users on the websit?
query:
[{"$group":{"_id":"$checkout_mode","total":{"$sum":1}}},{"$sort":{"total":1}}]

question 20: Display the information of the clients who's order status is paid?
query:
[{"$match":{"payment_status":"PAID"}},{"$project":{"address.isd_code":1,"mobile":1,"name":1,"_id":0}}]
